{"ast":null,"code":"var _jsxFileName = \"/Users/mihavidakovic/Desktop/Work/Personal/corona/client/src/List/List.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Moment from 'react-moment';\nimport 'moment/locale/sl';\nimport 'moment-timezone';\nconst sortTypes = {\n  up: {\n    class: 'sort-up',\n    fn: (a, b) => a.deaths - b.deaths\n  },\n  down: {\n    class: 'sort-down',\n    fn: (a, b) => b.deaths - a.deaths\n  },\n  default: {\n    class: 'sort',\n    fn: (a, b) => a\n  }\n};\nexport default class List extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: true,\n      items: [],\n      currentSort: 'default'\n    };\n\n    this.onSortChange = () => {\n      const {\n        currentSort\n      } = this.state;\n      let nextSort;\n      if (currentSort === 'down') nextSort = 'up';else if (currentSort === 'up') nextSort = 'default';else if (currentSort === 'default') nextSort = 'down';\n      this.setState({\n        currentSort: nextSort\n      });\n      console.log(\"klik\");\n    };\n  }\n\n  componentDidMount() {\n    axios.get(process.env.REACT_APP_BASE_URL + '/api/data').then(res => {\n      const items = res.data.data;\n      this.setState({\n        items\n      });\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    const {\n      currentSort\n    } = this.state;\n\n    if (this.state.loading === true) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"loading\");\n    } else {\n      return React.createElement(\"div\", {\n        className: \"list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"list__head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Dr\\u017Eava\"), React.createElement(\"div\", {\n        onClick: this.onSortChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Smrti\"), React.createElement(\"i\", {\n        className: `fas fa-${sortTypes[currentSort].class}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Potrjenih primerov\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Okrevanih pacientov\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Posodobljeno\")), React.createElement(\"div\", {\n        className: \"items\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, [...this.state.items].sort(sortTypes[currentSort].fn).map(item => React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item__cell item__state\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, item.region), \" \", item.state.length > 0 && React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"/ \", item.state)), React.createElement(\"div\", {\n        className: \"item__cell item__deaths\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, item.deaths), React.createElement(\"div\", {\n        className: \"item__cell item__confirmed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, item.confirmed), React.createElement(\"div\", {\n        className: \"item__cell item__recovered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, item.recovered), React.createElement(\"div\", {\n        className: \"item__cell item__date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Moment, {\n        fromNow: true,\n        locale: \"sl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, item.last_update))))));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/mihavidakovic/Desktop/Work/Personal/corona/client/src/List/List.js"],"names":["React","axios","Moment","sortTypes","up","class","fn","a","b","deaths","down","default","List","Component","state","loading","items","currentSort","onSortChange","nextSort","setState","console","log","componentDidMount","get","process","env","REACT_APP_BASE_URL","then","res","data","render","sort","map","item","region","length","confirmed","recovered","last_update"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Moment from 'react-moment';\nimport 'moment/locale/sl';\nimport 'moment-timezone';\n\nconst sortTypes = {\n\tup: {\n\t\tclass: 'sort-up',\n\t\tfn: (a, b) => a.deaths - b.deaths\n\t},\n\tdown: {\n\t\tclass: 'sort-down',\n\t\tfn: (a, b) => b.deaths - a.deaths\n\t},\n\tdefault: {\n\t\tclass: 'sort',\n\t\tfn: (a, b) => a\n\t}\n};\n\nexport default class List extends React.Component {\n\tstate = {\n\t\tloading: true,\n\t\titems: [],\n\t\tcurrentSort: 'default'\n\t}\n\n\n\tcomponentDidMount() {\n\t\taxios.get(process.env.REACT_APP_BASE_URL + '/api/data')\n\t\t.then(res => {\n\t\t\tconst items = res.data.data;\n\t\t\tthis.setState({items});\n\t\t\tthis.setState({loading: false});\n\t\t});\n\t}\n\n\tonSortChange = () => {\n\t\tconst { currentSort } = this.state;\n\t\tlet nextSort;\n\n\t\tif (currentSort === 'down') nextSort = 'up';\n\t\telse if (currentSort === 'up') nextSort = 'default';\n\t\telse if (currentSort === 'default') nextSort = 'down';\n\n\t\tthis.setState({\n\t\t\tcurrentSort: nextSort\n\t\t});\n\n\t\tconsole.log(\"klik\");\n\t};\n\n\n\trender() {\n\t\tconst { currentSort } = this.state;\n\t\tif (this.state.loading === true) {\n\t\t\treturn (\n\t\t\t\t<p>loading</p>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"list\">\n\t\t\t\t\t<div className=\"list__head\">\n\t\t\t\t\t\t<div>Država</div>\n\t\t\t\t\t\t<div onClick={this.onSortChange}>\n\t\t\t\t\t\t\t<span>Smrti</span>\n\t\t\t\t\t\t\t<i className={`fas fa-${sortTypes[currentSort].class}`} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>Potrjenih primerov</div>\n\t\t\t\t\t\t<div>Okrevanih pacientov</div>\n\t\t\t\t\t\t<div>Posodobljeno</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"items\">\n\t\t\t\t\t\t{[...this.state.items].sort(sortTypes[currentSort].fn).map(item => \n\t\t\t\t\t\t\t<div className=\"item\">\n\t\t\t\t\t\t\t\t<div className=\"item__cell item__state\">\n\t\t\t\t\t\t\t\t\t<span>{item.region}</span> {item.state.length > 0 && <span>/ {item.state}</span>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"item__cell item__deaths\">{item.deaths}</div>\n\t\t\t\t\t\t\t\t<div className=\"item__cell item__confirmed\">{item.confirmed}</div>\n\t\t\t\t\t\t\t\t<div className=\"item__cell item__recovered\">{item.recovered}</div>\n\t\t\t\t\t\t\t\t<div className=\"item__cell item__date\"><Moment fromNow locale=\"sl\">{item.last_update}</Moment></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n}"]},"metadata":{},"sourceType":"module"}