{"ast":null,"code":"import _toConsumableArray from\"/var/www/corona.vidakovic.si/html/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/var/www/corona.vidakovic.si/html/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/var/www/corona.vidakovic.si/html/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/var/www/corona.vidakovic.si/html/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/var/www/corona.vidakovic.si/html/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/var/www/corona.vidakovic.si/html/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import Moment from'react-moment';import'moment/locale/sl';import'moment-timezone';var sortTypes={up:{class:'sort-up',fn:function fn(a,b){return a.deaths-b.deaths;}},down:{class:'sort-down',fn:function fn(a,b){return b.deaths-a.deaths;}},default:{class:'sort',fn:function fn(a,b){return a;}}};var List=/*#__PURE__*/function(_React$Component){_inherits(List,_React$Component);function List(){var _getPrototypeOf2;var _this;_classCallCheck(this,List);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(List)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loading:true,items:[],currentSort:'default'};_this.onSortChange=function(){var currentSort=_this.state.currentSort;var nextSort;if(currentSort==='down')nextSort='up';else if(currentSort==='up')nextSort='default';else if(currentSort==='default')nextSort='down';_this.setState({currentSort:nextSort});console.log(\"klik\");};return _this;}_createClass(List,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(process.env.REACT_APP_BASE_URL+'/api/data').then(function(res){var items=res.data.data;_this2.setState({items:items});_this2.setState({loading:false});});}},{key:\"render\",value:function render(){var currentSort=this.state.currentSort;if(this.state.loading){return React.createElement(\"div\",{className:\"list\"},React.createElement(\"div\",{className:\"list__head\"},React.createElement(\"div\",{className:\"list__head--state\"},React.createElement(\"span\",null,\"Dr\\u017Eava\")),React.createElement(\"div\",{className:\"list__head--confirmed\"},React.createElement(\"span\",null,\"Potrjenih\")),React.createElement(\"div\",{className:\"list__head--deaths\",onClick:this.onSortChange},React.createElement(\"span\",null,\"Smrti\"),React.createElement(\"i\",{className:\"fas fa-\".concat(sortTypes[currentSort].class)})),React.createElement(\"div\",{className:\"list__head--recovered\"},React.createElement(\"span\",null,\"Okrevanih\")),React.createElement(\"div\",{className:\"list__head--date\"},React.createElement(\"span\",null,\"Posodobljeno\"))),React.createElement(\"div\",{className:\"loading\"},React.createElement(\"div\",{className:\"loader\"})));}else{return React.createElement(\"div\",{className:\"list\"},React.createElement(\"div\",{className:\"list__head\"},React.createElement(\"div\",{className:\"list__head--state\"},React.createElement(\"span\",null,\"Dr\\u017Eava\")),React.createElement(\"div\",{className:\"list__head--confirmed\"},React.createElement(\"span\",null,\"Potrjenih\")),React.createElement(\"div\",{className:\"list__head--deaths\",onClick:this.onSortChange},React.createElement(\"span\",null,\"Smrti\"),React.createElement(\"i\",{className:\"fas fa-\".concat(sortTypes[currentSort].class)})),React.createElement(\"div\",{className:\"list__head--recovered\"},React.createElement(\"span\",null,\"Okrevanih\")),React.createElement(\"div\",{className:\"list__head--date\"},React.createElement(\"span\",null,\"Posodobljeno\"))),React.createElement(\"div\",{className:\"items\"},_toConsumableArray(this.state.items).sort(sortTypes[currentSort].fn).map(function(item){return React.createElement(\"div\",{className:\"item\"},React.createElement(\"div\",{className:\"item__cell item__state\"},React.createElement(\"span\",null,item.region),item.state.length>0&&React.createElement(\"span\",null,item.state)),React.createElement(\"div\",{className:\"item__cell item__confirmed\"},item.confirmed),React.createElement(\"div\",{className:\"item__cell item__deaths\"},item.deaths),React.createElement(\"div\",{className:\"item__cell item__recovered\"},item.recovered),React.createElement(\"div\",{className:\"item__cell item__date\",hidden:true,title:item.last_update},React.createElement(Moment,{fromNow:true,locale:\"sl\"},item.last_update)));})));}}}]);return List;}(React.Component);export{List as default};","map":{"version":3,"sources":["/var/www/corona.vidakovic.si/html/client/src/List/List.js"],"names":["React","axios","Moment","sortTypes","up","class","fn","a","b","deaths","down","default","List","state","loading","items","currentSort","onSortChange","nextSort","setState","console","log","get","process","env","REACT_APP_BASE_URL","then","res","data","sort","map","item","region","length","confirmed","recovered","last_update","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Moment from 'react-moment';\nimport 'moment/locale/sl';\nimport 'moment-timezone';\n\nconst sortTypes = {\n\tup: {\n\t\tclass: 'sort-up',\n\t\tfn: (a, b) => a.deaths - b.deaths\n\t},\n\tdown: {\n\t\tclass: 'sort-down',\n\t\tfn: (a, b) => b.deaths - a.deaths\n\t},\n\tdefault: {\n\t\tclass: 'sort',\n\t\tfn: (a, b) => a\n\t}\n};\n\nexport default class List extends React.Component {\n\tstate = {\n\t\tloading: true,\n\t\titems: [],\n\t\tcurrentSort: 'default'\n\t}\n\n\n\tcomponentDidMount() {\n\t\taxios.get(process.env.REACT_APP_BASE_URL + '/api/data')\n\t\t.then(res => {\n\t\t\tconst items = res.data.data;\n\t\t\tthis.setState({items});\n\t\t\tthis.setState({loading: false});\n\t\t});\n\t}\n\n\tonSortChange = () => {\n\t\tconst { currentSort } = this.state;\n\t\tlet nextSort;\n\n\t\tif (currentSort === 'down') nextSort = 'up';\n\t\telse if (currentSort === 'up') nextSort = 'default';\n\t\telse if (currentSort === 'default') nextSort = 'down';\n\n\t\tthis.setState({\n\t\t\tcurrentSort: nextSort\n\t\t});\n\n\t\tconsole.log(\"klik\");\n\t};\n\n\n\trender() {\n\t\tconst { currentSort } = this.state;\n\t\tif (this.state.loading) {\n\t\t\treturn (\n\t\t\t\t<div className=\"list\">\n\t\t\t\t\t<div className=\"list__head\">\n\t\t\t\t\t\t<div className=\"list__head--state\"><span>Država</span></div>\n\t\t\t\t\t\t<div className=\"list__head--confirmed\"><span>Potrjenih</span></div>\n\t\t\t\t\t\t<div className=\"list__head--deaths\" onClick={this.onSortChange}>\n\t\t\t\t\t\t\t<span>Smrti</span>\n\t\t\t\t\t\t\t<i className={`fas fa-${sortTypes[currentSort].class}`} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"list__head--recovered\"><span>Okrevanih</span></div>\n\t\t\t\t\t\t<div className=\"list__head--date\"><span>Posodobljeno</span></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"loading\">\n\t\t\t\t\t\t<div className=\"loader\"></div>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"list\">\n\t\t\t\t\t<div className=\"list__head\">\n\t\t\t\t\t\t<div className=\"list__head--state\"><span>Država</span></div>\n\t\t\t\t\t\t<div className=\"list__head--confirmed\"><span>Potrjenih</span></div>\n\t\t\t\t\t\t<div className=\"list__head--deaths\" onClick={this.onSortChange}>\n\t\t\t\t\t\t\t<span>Smrti</span>\n\t\t\t\t\t\t\t<i className={`fas fa-${sortTypes[currentSort].class}`} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"list__head--recovered\"><span>Okrevanih</span></div>\n\t\t\t\t\t\t<div className=\"list__head--date\"><span>Posodobljeno</span></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"items\">\n\t\t\t\t\t\t{[...this.state.items].sort(sortTypes[currentSort].fn).map(item => \n\t\t\t\t\t\t\t<div className=\"item\">\n\t\t\t\t\t\t\t\t<div className=\"item__cell item__state\">\n\t\t\t\t\t\t\t\t\t<span>{item.region}</span> \n\t\t\t\t\t\t\t\t\t{item.state.length > 0 && <span>{item.state}</span>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"item__cell item__confirmed\">{item.confirmed}</div>\n\t\t\t\t\t\t\t\t<div className=\"item__cell item__deaths\">{item.deaths}</div>\n\t\t\t\t\t\t\t\t<div className=\"item__cell item__recovered\">{item.recovered}</div>\n\t\t\t\t\t\t\t\t<div className=\"item__cell item__date\" hidden title={item.last_update}><Moment fromNow locale=\"sl\">{item.last_update}</Moment></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n}"]},"metadata":{},"sourceType":"module"}